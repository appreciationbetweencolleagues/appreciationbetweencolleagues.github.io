{"version":3,"sources":["webpack:///./src/views/Permissions.vue?d8b3","webpack:///./src/views/Permissions.vue","webpack:///./src/views/Permissions.vue?5049","webpack:///./src/views/Permissions.vue?603b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","iconConfig","camera","_e","cameraErrorText","length","cameraAllowed","on","requestCameraPermission","database","persisted","noNavStorage","checkPersist","$event","$router","replace","path","name","staticRenderFns","extend","data","text","methods","constraints","video","facingMode","navigator","mediaDevices","getUserMedia","then","stream","getTracks","forEach","track","stop","catch","err","message","storage","persist","granted","checkPersisted","persistent","mounted","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VIcon","VSlideYTransition","VSpacer"],"mappings":"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","file":"js/chunk-2d0bce18.6f439b33.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"mt-2 mx-auto\",attrs:{\"max-width\":\"500\",\"flat\":\"\"}},[_c('v-card-title',{staticClass:\"wrap-text\"},[_vm._v(\"Permissions\")]),_c('v-card-text',[_vm._v(\" The application requires some permissions to be fully functional. Check whether you have fullfilled all the options below. \")])],1),_c('v-card',{staticClass:\"pa-1 my-2 mx-auto\",attrs:{\"outlined\":\"\",\"max-width\":\"500\"}},[_c('v-card-title',[_vm._v(\" Camera \"),_c('v-spacer'),_c('div',[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(_vm._s(_vm.iconConfig.camera))])],1)],1),_c('v-card-text',[_vm._v(\" The camera is required for sending and receiving appreciation. \"),_c('v-slide-y-transition',[(_vm.cameraAllowed)?_c('span',{staticClass:\"green--text\"},[_c('br'),_c('br'),_vm._v(\"Camera permission granted\")]):_vm._e()]),_c('v-slide-y-transition',[(_vm.cameraErrorText.length > 0 && !_vm.cameraAllowed)?_c('span',{staticClass:\"red--text\"},[_c('br'),_c('br'),_vm._v(_vm._s(_vm.cameraErrorText))]):_vm._e()])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":_vm.cameraAllowed},on:{\"click\":_vm.requestCameraPermission}},[_vm._v(\"Check permission\")])],1)],1),_c('v-card',{staticClass:\"pa-1 my-2 mx-auto\",attrs:{\"outlined\":\"\",\"max-width\":\"500\"}},[_c('v-card-title',[_vm._v(\" Persistent Storage \"),_c('v-spacer'),_c('div',[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(_vm._s(_vm.iconConfig.database))])],1)],1),_c('v-card-text',[_vm._v(\" All data is kept locally in the browser. There is no remote backup storage. It is therefore important that the data cannot be automatically cleared by the browser. Please note that the data will still be lost if you clear the storage or cache for this website. \"),_c('br'),_c('br'),_c('b',[_vm._v(\"Current status: \")]),_c('v-slide-y-transition',[(_vm.persisted)?_c('span',{staticClass:\"green--text\"},[_vm._v(\"Storage will not be cleared except by explicit user action.\")]):_vm._e()]),_c('v-slide-y-transition',[(!_vm.persisted && !_vm.noNavStorage)?_c('span',{staticClass:\"red--text\"},[_vm._v(\"Storage may be cleared by the browser under storage pressure.\")]):_vm._e()]),_c('v-slide-y-transition',[(!_vm.persisted && _vm.noNavStorage)?_c('span',{staticClass:\"red--text\"},[_vm._v(\"Persistent storage is unavailable in your browser. Use another browser if possible, or ensure that enough disk space is available.\")]):_vm._e()])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":_vm.persisted || _vm.noNavStorage},on:{\"click\":_vm.checkPersist}},[_vm._v(\"Allow persistent storage\")])],1)],1),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"flat\":\"\",\"max-width\":\"500\"}},[_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.$router.replace({ path: '/' })}}},[_vm._v(\" To the app \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$router.replace({ name: 'Guide' })}}},[_vm._v(\" Starter Guide \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport iconConfig from '@/store/misc/icons';\r\n\r\nexport default Vue.extend({\r\n  name: 'Permissions',\r\n  data: function() {\r\n    return {\r\n      text: \"\",\r\n      persisted: false as boolean,\r\n      noNavStorage: false as boolean,\r\n      cameraAllowed: false as boolean,\r\n      cameraErrorText: '' as string,\r\n      iconConfig\r\n    }\r\n  },\r\n  methods: {\r\n    requestCameraPermission() {\r\n      const constraints: MediaStreamConstraints = {\r\n        video: { \r\n          facingMode: \"environment\"\r\n        }\r\n      };\r\n      navigator.mediaDevices.getUserMedia(constraints)\r\n        .then((stream: MediaStream) => {\r\n          this.cameraErrorText = '';\r\n          this.cameraAllowed = true;\r\n          stream.getTracks().forEach((track: MediaStreamTrack) => track.stop());\r\n        })\r\n        .catch((err: Error) => {\r\n          this.cameraErrorText = err.message;\r\n        });\r\n    },\r\n    checkPersist() {\r\n      if (navigator.storage && navigator.storage.persist)\r\n        navigator.storage.persist().then(granted =>{\r\n          if (granted)\r\n            this.persisted = true;\r\n          else\r\n            this.persisted = false;\r\n      })\r\n      else this.noNavStorage = true;\r\n\r\n    },\r\n    checkPersisted(): void {\r\n      if (navigator.storage && navigator.storage.persist)\r\n        navigator.storage.persisted().then(persistent=>{\r\n          if (persistent)\r\n            this.persisted = true;\r\n          else\r\n            this.persisted = false;\r\n      });\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.checkPersisted();\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Permissions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Permissions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Permissions.vue?vue&type=template&id=3147a901&scoped=true&\"\nimport script from \"./Permissions.vue?vue&type=script&lang=ts&\"\nexport * from \"./Permissions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3147a901\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlideYTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VIcon,VSlideYTransition,VSpacer})\n"],"sourceRoot":""}