(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d864241"],{"26d3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",{staticClass:"mx-auto mt-4",attrs:{flat:"","max-width":"400"}},[s("div",{staticClass:"title wrap-text"},[e._v("Account Details")]),s("div",{staticClass:"subtitle-2"},[e._v("Public Profile Preview")]),s("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"400",outlined:""}},[s("v-list-item",[s("v-list-item-avatar",{staticClass:"headline justify-center image-select",attrs:{size:"64",color:e.selectedColor}},[e.selectedImage?e._e():s("span",{staticClass:"white--text",domProps:{textContent:e._s(e.initials)}}),e.selectedImage?s("img",{staticClass:"pa-1",attrs:{src:e.selectedImageSource}}):e._e()]),s("v-list-item-content",[s("v-card-title",[e._v(e._s(e.selectedName))]),s("v-card-subtitle",[e._v(e._s(e.ownEmail))])],1)],1)],1),s("span",{staticClass:"subtitle-2"},[e._v("Edit Public Details")]),s("v-card",{staticClass:"mx-auto d-flex justify-center",attrs:{outlined:"","max-width":"400"}},[s("v-card-actions",[s("v-dialog",{attrs:{scrollable:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-list-item-avatar",e._g({staticClass:"justify-center image-select mx-3",attrs:{size:"64",color:"grey lighten-4"}},a),[s("span",[e._v("Name")])])]}}]),model:{value:e.editName,callback:function(t){e.editName=t},expression:"editName"}},[s("v-card",{directives:[{name:"show",rawName:"v-show",value:e.editName,expression:"editName"}],staticClass:"mx-auto px-4 pt-4",attrs:{fluid:"",flat:"","max-width":"400"}},[s("v-form",{on:{submit:e.confirmForm}},[s("v-text-field",{attrs:{label:"Display Name",counter:20,rules:e.nameRules},model:{value:e.selectedName,callback:function(t){e.selectedName=t},expression:"selectedName"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:e.confirmForm}},[e._v("Confirm")])],1)],1)],1)],1),s("v-dialog",{attrs:{scrollable:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-list-item-avatar",e._g({staticClass:"justify-center image-select mx-3",attrs:{size:"64",color:e.selectedColor}},a),[s("span",{staticClass:"white--text"},[e._v(" Color ")])])]}}]),model:{value:e.showColors,callback:function(t){e.showColors=t},expression:"showColors"}},[s("v-card",{staticClass:"max-auto px-2",attrs:{fluid:"",color:"grey lighten-4","max-width":"400"}},[s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"d-flex justify-center pa-2"},[s("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",color:"error"},on:{click:function(t){e.showColors=!1}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("v-row",{attrs:{dense:""}},e._l(e.colors,(function(t,a){return s("v-col",{key:a,staticClass:"d-flex justify-center pa-3"},[s("v-btn",{attrs:{fab:"",small:"",color:t},on:{click:function(a){return e.selectColor(t)}}})],1)})),1)],1)],1),s("v-dialog",{attrs:{scrollable:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-list-item-avatar",e._g({staticClass:"justify-center image-select mx-3",attrs:{size:"64",color:"grey"}},a),[e.selectedImage?e._e():s("span",{staticClass:"white--text"},[e._v(" Image ")]),e.selectedImage?s("img",{attrs:{src:e.selectedImageSource}}):e._e()])]}}]),model:{value:e.showImages,callback:function(t){e.showImages=t},expression:"showImages"}},[s("v-card",{directives:[{name:"show",rawName:"v-show",value:e.showImages,expression:"showImages"}],staticClass:"mx-auto px-2",attrs:{fluid:"",color:"grey lighten-4","max-width":"400"}},[s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"d-flex justify-center pa-2"},[s("v-btn",{staticClass:"mx-3",attrs:{"x-small":"",fab:"",color:"info"},on:{click:function(t){return e.selectImage(void 0)}}},[s("v-icon",[e._v(e._s(e.iconConfig.erase))])],1),s("v-btn",{staticClass:"mx-3",attrs:{"x-small":"",fab:"",color:"error"},on:{click:function(t){e.showImages=!1}}},[s("v-icon",[e._v(e._s(e.iconConfig.close))])],1)],1)],1),s("v-row",{attrs:{dense:""}},e._l(e.images,(function(t){return s("v-col",{key:t.id,staticClass:"d-flex child-flex pa-3"},[s("v-card",{staticClass:"d-flex justify-center image-hover",attrs:{flat:"",tile:"",color:"grey lighten-4"},on:{click:function(a){return e.selectImage(t)}}},[s("img",{attrs:{src:a("1771")("./"+t.path),"aspect-ratio":"1",width:"64px",height:"64px"}})])],1)})),1)],1)],1)],1)],1),s("v-card",{staticClass:"mx-auto px-2 mb-4",attrs:{flat:"","max-width":"400"}},[s("v-card-actions",[s("v-btn",{attrs:{block:"",loadingSave:e.loadingSave,disabled:e.disableSave,color:"primary"},on:{click:e.saveData}},[e._v("Save changes")])],1),s("v-slide-y-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.saveMessage.length>0,expression:"saveMessage.length > 0"}],staticClass:"text-center caption"},[e._v(e._s(e.saveMessage))])])],1),s("div",{staticClass:"title"},[e._v("Permissions")]),s("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"400",outlined:""}},[s("v-card-text",{staticClass:"pb-2"},[e._v("Missed a permission during the initial setup?")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$router.push({name:"Permissions"})}}},[e._v("Go to Permissions")])],1)],1),e.isInBrowser?s("div",{staticClass:"title"},[e._v("Installation")]):e._e(),e.isInBrowser?s("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"400",outlined:""}},[s("v-card-text",{staticClass:"pb-2"},[e._v(" It appears that you are using the application in a browser. You can go back to the installation page for instructions if you wish to install the application. Your data will remain intact. If you want to access the application again through the browser, opt for the no installation option. ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.toInstall}},[e._v("Back to install page")])],1)],1):e._e(),s("div",{staticClass:"title"},[e._v("Danger Zone")]),s("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"400",outlined:""}},[s("v-card",{staticClass:"mx-auto px-2",attrs:{flat:"","max-width":"400"}},[s("v-card-text",[e._v("Want a fresh start? You can delete all your local data by pressing the button below. "),s("br"),s("br"),s("b",[e._v("Please note that this action is irreversible.")])]),s("v-card-actions",[s("v-btn",{attrs:{block:"",loadingSave:e.loadingDelete,color:"error"},on:{click:function(t){e.deleteDialog=!0}}},[e._v("Delete all data")])],1),s("v-slide-y-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:e.deleteMessage.length>0,expression:"deleteMessage.length > 0"}],staticClass:"text-center caption"},[e._v(e._s(e.deleteMessage))])])],1)],1),s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("Delete all data")]),s("v-card-text",{staticClass:"pb-2"},[e._v("Are you sure that you want to delete all data? This cannot be undone.")]),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",disabled:e.loadingDelete,text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v("Cancel")]),s("v-spacer"),s("v-btn",{attrs:{color:"error",disabled:e.loadingDelete,loading:e.loadingDelete,text:""},on:{click:e.deleteData}},[e._v("Delete everything")])],1)],1)],1)],1)],1)},i=[],o=(a("b0c0"),a("ac1f"),a("5319"),a("2b0e")),n=a("d376"),l=a("2048"),r=a("fe0f"),c=a("314a"),d=o["a"].extend({name:"Settings",data:function(){return{loadingSave:!1,loadingDelete:!1,saveMessage:"",deleteMessage:"",deleteDialog:!1,lastPerson:void 0,selectedImage:void 0,selectedName:"",selectedColor:"",showImages:!1,showColors:!1,editName:!1,colors:["red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","blue-grey","grey"],nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=20||"Name must be less than 20 characters"}],iconConfig:c["a"]}},methods:{selectImage:function(e){this.showImages=!1,this.selectedImage=e},selectColor:function(e){this.showColors=!1,this.selectedColor=e},confirmForm:function(e){e.preventDefault(),this.editName=!1},deleteData:function(){var e=this;this.loadingDelete=!0,r["a"].deleteAllACs().then((function(t){if(!t)return e.loadingDelete=!1,e.deleteDialog=!1,void(e.deleteMessage="Something went wrong when deleting the Appreciation Cards.");l["a"].deleteAllPeople().then((function(t){if(!t)return e.loadingDelete=!1,e.deleteDialog=!1,void(e.deleteMessage="Something went wrong when deleting the contacts.");e.loadingDelete=!1,e.deleteDialog=!1,e.deleteMessage="Cleared all data.",window.location.reload()}))}))},saveData:function(){var e=this;this.loadingSave=!0,this.showColors=!1,this.showImages=!1,this.editName=!1;var t=l["a"].selfPerson;if(t){var a={name:this.selectedName,email:t.email,deleted:t.deleted,color:this.selectedColor,isSelf:!0};this.selectedImage&&(a.image=this.selectedImage.id),l["a"].updatePerson(a).then((function(t){e.loadingSave=!1,t?(e.saveMessage="Details updated succesfully!",e.lastPerson=t,e.setVariables(t)):e.saveMessage="Something went wrong",setTimeout((function(){return e.saveMessage=""}),4e3)}))}},setVariables:function(e){this.selectedName=e.name,this.selectedColor=e.color,this.selectedImage=e.image},toInstall:function(){window.localStorage.removeItem("noInstall"),this.$router.replace({name:"Install"})}},computed:{selectedImageSource:function(){return this.selectedImage?a("1771")("./".concat(this.selectedImage.path)):""},images:function(){return n["a"].images},initials:function(){return this.selectedName.substr(0,1).toUpperCase()},ownEmail:function(){return this.lastPerson?this.lastPerson.email:""},isInBrowser:function(){return!matchMedia("(display-mode: standalone)").matches},disableSave:function(){return void 0!==this.lastPerson&&this.selectedImage===this.lastPerson.image&&this.selectedColor===this.lastPerson.color&&this.selectedName===this.lastPerson.name}},mounted:function(){this.lastPerson=l["a"].selfPerson,this.lastPerson&&this.setVariables(this.lastPerson)}}),u=d,m=(a("8ebb"),a("2877")),v=a("6544"),h=a.n(v),g=a("8336"),f=a("b0af"),p=a("99d9"),w=a("62ad"),b=a("169a"),x=a("4bd4"),C=a("132d"),_=a("da13"),y=a("8270"),I=a("5d23"),D=a("0fd9"),k=a("0789"),V=a("2fa4"),N=a("8654"),P=Object(m["a"])(u,s,i,!1,null,"6614e4af",null);t["default"]=P.exports;h()(P,{VBtn:g["a"],VCard:f["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VCol:w["a"],VDialog:b["a"],VForm:x["a"],VIcon:C["a"],VListItem:_["a"],VListItemAvatar:y["a"],VListItemContent:I["a"],VRow:D["a"],VSlideYTransition:k["e"],VSpacer:V["a"],VTextField:N["a"]})},"4bd4":function(e,t,a){"use strict";a("4de4"),a("7db0"),a("4160"),a("caad"),a("07ac"),a("2532"),a("159b");var s=a("5530"),i=a("58df"),o=a("7e2b"),n=a("3206");t["a"]=Object(i["a"])(o["a"],Object(n["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,a=function(e){return e.$watch("hasError",(function(a){t.$set(t.errorBag,e._uid,a)}),{immediate:!0})},s={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?s.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(t.errorBag.hasOwnProperty(e._uid)||(s.valid=a(e)))})):s.valid=a(e),s},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var a=this.watchers.find((function(e){return e._uid===t._uid}));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(s["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},"899e":function(e,t,a){},"8ebb":function(e,t,a){"use strict";var s=a("899e"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-2d864241.91701562.js.map